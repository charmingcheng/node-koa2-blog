webpackJsonp([1],{"1Hg1":function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.y-single-upload-wrapper {\n  position: relative;\n}\n.y-single-upload-wrapper.ctrl-upload .y-single-upload-main {\n  display: none;\n}\n.y-single-upload-wrapper.ctrl-upload:hover .y-single-upload-main {\n  display: block;\n}\n.y-single-upload-wrapper .y-single-upload-list {\n  display: inline-block;\n  width: 62px;\n  height: 62px;\n  text-align: center;\n  line-height: 60px;\n  border: 1px solid #dcdee2;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  position: relative;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n  margin-right: 4px;\n}\n.y-single-upload-wrapper .y-single-upload-list img {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n      -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  max-width: 100%;\n  max-height: 100%;\n  border-radius: 4px;\n}\n.y-single-upload-wrapper .y-single-upload-main {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 60px;\n}\n.y-single-upload-wrapper .y-single-upload-main .ivu-upload {\n  position: relative;\n  color: rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px solid #dcdee2;\n  border-radius: 4px;\n  text-align: center;\n  overflow: hidden;\n  -webkit-transition: border-color 0.2s ease;\n  -o-transition: border-color 0.2s ease;\n  transition: border-color 0.2s ease;\n  cursor: pointer;\n}\n.y-single-upload-wrapper .y-single-upload-main .y-single-upload-button {\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n}\n","",{version:3,sources:["/Users/apple/Documents/workspace/aliyun-vue-demo/node-koa2-blog/admin/src/components/common/singleUpload.vue"],names:[],mappings:";AACA;EACE,mBAAmB;CACpB;AACD;EACE,cAAc;CACf;AACD;EACE,eAAe;CAChB;AACD;EACE,sBAAsB;EACtB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,kBAAkB;EAClB,0BAA0B;EAC1B,mBAAmB;EACnB,iBAAiB;EACjB,iBAAiB;EACjB,mBAAmB;EACnB,iDAAiD;UACzC,yCAAyC;EACjD,kBAAkB;CACnB;AACD;EACE,mBAAmB;EACnB,UAAU;EACV,SAAS;EACT,yCAAyC;MACrC,qCAAqC;UACjC,iCAAiC;EACzC,gBAAgB;EAChB,iBAAiB;EACjB,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,OAAO;EACP,QAAQ;EACR,YAAY;CACb;AACD;EACE,mBAAmB;EACnB,0BAA0B;EAC1B,qCAAqC;EACrC,0BAA0B;EAC1B,mBAAmB;EACnB,mBAAmB;EACnB,iBAAiB;EACjB,2CAA2C;EAC3C,sCAAsC;EACtC,mCAAmC;EACnC,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;CACnB",file:"singleUpload.vue",sourcesContent:["\n.y-single-upload-wrapper {\n  position: relative;\n}\n.y-single-upload-wrapper.ctrl-upload .y-single-upload-main {\n  display: none;\n}\n.y-single-upload-wrapper.ctrl-upload:hover .y-single-upload-main {\n  display: block;\n}\n.y-single-upload-wrapper .y-single-upload-list {\n  display: inline-block;\n  width: 62px;\n  height: 62px;\n  text-align: center;\n  line-height: 60px;\n  border: 1px solid #dcdee2;\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n  position: relative;\n  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n          box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\n  margin-right: 4px;\n}\n.y-single-upload-wrapper .y-single-upload-list img {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n      -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  max-width: 100%;\n  max-height: 100%;\n  border-radius: 4px;\n}\n.y-single-upload-wrapper .y-single-upload-main {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 60px;\n}\n.y-single-upload-wrapper .y-single-upload-main .ivu-upload {\n  position: relative;\n  color: rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px solid #dcdee2;\n  border-radius: 4px;\n  text-align: center;\n  overflow: hidden;\n  -webkit-transition: border-color 0.2s ease;\n  -o-transition: border-color 0.2s ease;\n  transition: border-color 0.2s ease;\n  cursor: pointer;\n}\n.y-single-upload-wrapper .y-single-upload-main .y-single-upload-button {\n  width: 60px;\n  height: 60px;\n  line-height: 60px;\n}\n"],sourceRoot:""}])},fL7t:function(n,e,t){var i=t("1Hg1");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("5096a8f5",i,!1,{})},"zAV/":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"singleUpload",props:{name:{type:String,default:""},action:{type:String,default:""},data:{type:Object,default:function(){}},url:{type:String,default:void 0},title:{type:String,default:"头像"},width:{type:String,default:"60"},height:{type:String,default:"60"}},data:function(){return{hasImg:!1,uploadData:"",uploadImg:"",headers:{}}},computed:{uploadListStyle:function(){return{width:parseFloat(this.width)+2+"px",height:parseFloat(this.height)+2+"px",lineHeight:this.height+"px"}},uploadButtonStyle:function(){return{width:this.width+"px",height:this.height+"px",lineHeight:this.height+"px"}}},watch:{url:{handler:function(n,e){this.initData(n)},immediate:!0}},created:function(){this.headers={authKey:this.$Lockr.get("authKey"),sessionId:this.$Lockr.get("sessionId")}},methods:{initData:function(n){n?(this.hasImg=!0,this.uploadImg=n,this.uploadData=this.$imgHost+n):(this.hasImg=!1,this.uploadImg="",this.uploadData="")},handleSuccess:function(n,e){this.hasImg=!0,200===n.code?(this.uploadImg=n.data.filestr,this.uploadData=this.$imgHost+n.data.filestr,this.$emit("uploadData",n.data)):this.$Message.error("上传失败")},handleFormatError:function(n){this.$Message.error("请选择jpg、jpeg、png、gif格式的文件")},handleMaxSize:function(n){this.$Message.error("图片文件太大，已超过2M")}}},a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"y-single-upload-wrapper",class:{"ctrl-upload":n.hasImg}},[t("div",{staticClass:"y-single-upload-list",style:n.uploadListStyle},[""!==n.uploadImg?[t("img",{attrs:{src:n.uploadData,title:n.title,width:n.width,height:n.height}})]:n._e()],2),n._v(" "),t("Upload",{ref:"upload",staticClass:"y-single-upload-main",style:{width:this.width+"px"},attrs:{name:n.name,data:n.data,"show-upload-list":!1,"on-success":n.handleSuccess,action:n.action,headers:n.headers}},[t("div",{staticClass:"y-single-upload-button",style:n.uploadButtonStyle},[t("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[]},s=o;var l=!1;var r=t("VU/8")(i,s,!1,function(n){l||t("fL7t")},null,null);r.options.__file="src/components/common/singleUpload.vue";e.default=r.exports}});